# ----------------------------------------------------------------------------
# - Some useful keys:
# -  prefix + R - reload config
# -  prefix + I - install pulugins
# ----------------------------------------------------------------------------

# --- tmux package manager ---------------------------------------------------
# - https://github.com/tmux-plugins/tpm
set -g @plugin 'tmux-plugins/tpm'


# --- switch window by meta+digit --------------------------------------------
bind -n M-1 select-window -t 1
bind -n M-2 select-window -t 2
bind -n M-3 select-window -t 3
bind -n M-4 select-window -t 4
bind -n M-5 select-window -t 5
bind -n M-6 select-window -t 6
bind -n M-7 select-window -t 7
bind -n M-8 select-window -t 8
bind -n M-9 select-window -t 9


# --- always renumber when one is killed -------------------------------------
set-option -g renumber-windows on


# --- set default terminal name ----------------------------------------------
# - Make sure $TERM is set correctly.
# - For screen or tmux, $TERM should be screen-256color (not xterm-256color!)
# - In other cases if "256" does not appear in the string it's probably wrong. Try TERM=xterm-256color.
set -g default-terminal "screen-256color"
# - told that the terminal outside supports RGB colour ---------------------
# - (setup value as $TERM outside of tmux)
set -as terminal-features ",xterm-256color*:RGB"
# - https://github.com/tmux/tmux/wiki/FAQ#how-do-i-use-utf-8
# - workaround issue with rendering ACS in a UTF-8 context
# - set-option -ga terminal-overrides ',*:enacs@:smacs@:rmacs@:acsc@'
# - and force True color support on.
# - set-option -ga terminal-overrides ',xterm-256color*:Tc'


# --- enable mouse scroll and copy -------------------------------------------
setw -g mouse on
set -g terminal-overrides 'xterm*:smcup@:rmcup@'


# --- vi-style navigation ----------------------------------------------------
# - prefix + [ - copy mode:
# -  space - start selection
# -  enter - copy selection
setw -g mode-keys vi


# --- saves all the little details from tmux environment ---------------------
# - prefix + Ctrl-s - save
# - prefix + Ctrl-r - restore
set -g @plugin 'tmux-plugins/tmux-resurrect'

# - install nvim sessions plugin: 'echasnovski/mini.sessions'
# - enable restore session for neovim
set -g @resurrect-strategy-nvim 'session'
# - restoring pane contents
set -g @resurrect-capture-pane-contents 'on'

# --- color scheme -----------------------------------------------------------
set -g @plugin 'o0th/tmux-nova'

set -g @nova-nerdfonts true
set -g @nova-nerdfonts-left 
set -g @nova-nerdfonts-right 

nova_color="#50fa7b #282a36"

set -g @nova-segment-mode "#{?client_prefix,Ω,ω}"
set -g @nova-segment-mode-colors "$nova_color"
# --- continuous saving of tmux environment ----------------------------------
# - companion 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @continuum-restore 'on'

set -g @nova-segment-session "#{session_name} / #(whoami)@#h"
set -g @nova-segment-session-colors "$nova_color"

set -g @nova-pane "#I#{?pane_in_mode,  #{pane_mode},} #W"

set -g @nova-rows 0
set -g @nova-segments-0-left "mode"
set -g @nova-segments-0-right "session"


# --- easy pan control -------------------------------------------------------
set -g @plugin 'tmux-plugins/tmux-pain-control'


# --- easy vim/nvim + tmux pane navigation -----------------------------------
# - NVIM companion plugin:
# - https://github.com/christoomey/vim-tmux-navigator
set -g @plugin 'christoomey/vim-tmux-navigator'


# --- Start windows and panes at 1, not 0 ------------------------------------
set -g base-index 1
setw -g pane-base-index 1


# --- Move status bar on top -------------------------------------------------
set -g status-position top


# --- tmux-sensible ----------------------------------------------------------
set -g @plugin 'tmux-plugins/tmux-sensible'


# --- powerline --------------------------------------------------------------
# set -g @plugin 'erikw/tmux-powerline'


#-----------------------------------------------------------------------------
# - Initialize TMUX plugin manager
# - keep this line at the very bottom of tmux.conf
run '~/.config/tmux/plugins/tpm/tpm'

